<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="./layout.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="content">

            <p:toolbar id="toolbar">
                <f:facet name="left">
                    <h:link outcome="addcompany"
                            >
                        <p:button icon="fa fa-plus"
                                  title="Ajouter une société au panier de cotations"/>
                    </h:link>
                    <p:commandButton icon="fa fa-user"
                                     title="Modifier mes informations"
                                     onclick="PF('editUserDlg').show()"
                                     rendered="#{view.viewId == '/index.xhtml'}"/>
                </f:facet>
                <f:facet name="right">
                    <h:outputText value="#{user}"/>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <h:link outcome="index"
                            rendered="#{view.viewId != '/index.xhtml'}">
                        <p:button icon="fa fa-list"
                                  title="Panier de cotations"/>
                    </h:link>
                    <h:link outcome="admin"
                            rendered='#{request.isUserInRole("ADMIN")}'>
                        <p:button icon="fa fa-gears"
                                  title="Administration"/>
                    </h:link>
                    <h:form>
                        <p:commandButton icon="fa fa-sign-out"
                                         title="Se déconnecter"
                                         action="#{userSession.logout()}"/>
                     </h:form>
                </f:facet>
            </p:toolbar>
        <p:spacer/>
        <ui:insert name="main"></ui:insert>
        <ui:include src="dialogs/editUserDlg.xhtml"/>
    </ui:define>
</ui:composition>